
## Website Creation Prompt: Sphinx Riddles

**Core Request:** Help me create a website called "Sphinx Riddles".

**Website URL:** `http://sphinx-riddles.dev`

---

### Functionality:

* The website will display **one riddle** at a time when visited.
* Users will be able to reveal **the answer** to the current riddle.
* After revealing the answer, the website will offer the user the option to **request more riddles**.
* The backend will manage data and connect to the database.
* The website will utilize **caching** for performance.
* All riddles will be stored in a **database**.
* New riddles will be **generated by an AI** as needed.
* Users can **"like" a riddle** (simple counter, no login, no unliking).

---

### Architecture:

The overall system architecture will be `website (frontend) -> backend -> database -> AI (for riddle generation)`.

---

### User Experience (UX):

* **Initial Load:** Upon the very first visit, the website should **preload and immediately display a riddle**.
* **No More Riddles:** If the database runs low on available riddles, the backend should **trigger the AI to generate 100 new riddles** and store them in the database.
* **Error Handling:** If the backend or AI service encounters an error, the website should display a user-friendly message: **"Sphinx is sleeping"**.
* **"Likes" Mechanism:** Liking a riddle will be a simple **increment of a counter**. Users cannot unlike a riddle, and no login is required.

---

### Frontend Specifications:

* **Framework/Library:** Use **React**.
* **Styling:** Utilize **Tailwind CSS** for styling.
* **Design Aesthetic:** Implement a **minimalist design with a dark theme**.
* **Responsiveness:** The website must be **fully responsive** for optimal viewing on both **mobile and desktop devices**.
* **Riddle Display:** The riddle text should be **prominent**.
* **Answer Reveal:** The answer will be revealed by clicking a clearly labeled **"Show Answer" button**.
* **Navigation:** After the answer is shown, a **"Next Riddle" button** should be prominently displayed to request another riddle.

---

### Backend Specifications:

* **Language/Framework:** Use **Next.js**.
* **API Style:** Implement a **RESTful API**.
* **Caching:** Utilize **Redis** for caching recently served riddles and frequently liked riddles to improve performance.
* **AI Integration (for generation):** The backend will be responsible for calling the AI model to generate new riddles when required (e.g., when the database count falls below a threshold, or triggered by the "No More Riddles" UX rule).

---

### Database Specifications:

* **Database Type:** Use **PostgreSQL**.
* **Schema:**
    * `riddles` table:
        * `riddle_id` (Primary Key)
        * `riddle_text` (text of the riddle)
        * `answer_text` (the answer to the riddle)
        * `views` (integer, count of times the riddle was viewed)
        * `likes` (integer, count of times the riddle was liked)
    * *(Note: The `riddle_likes` table in your initial prompt has been simplified and its `likes` column integrated directly into the `riddles` table, as the current "only like" functionality makes a separate table redundant for a simple counter without user tracking.)*

---

### AI Integration (for Riddle Content Generation):

*(This is the prompt for the AI that will generate the riddle content itself, to be integrated by the backend.)*

**Prompt for Riddle Generation:**

"Write poetic, riddle-style metaphors rooted in software development culture.

Each riddle should be 1–3 lines long, in a clever, Sphinx-like tone: part mysterious, part sarcastic, a little poetic, and full of developer truth.

The riddles should reflect real experiences in the world of programming—bugs, tools, team dynamics, bad habits, deployment issues, technical debt, etc.

Each riddle should be followed by an answer, like so:

'I vanish with a restart, appear with a commit, and laugh at your logging. What am I?'
Answer: A ghost bug.

Tone: Playful, cynical, self-aware, and clever. Avoid dry definitions or generic trivia. Reference dev culture, not just concepts."

---

### Deployment Considerations:

* The generated code should be structured in a way that facilitates deployment, ideally with separate directories for frontend and backend components.

---

This detailed prompt should give an AI enough information to generate a solid foundational codebase for your Sphinx Riddles website.